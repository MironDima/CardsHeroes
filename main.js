(()=>{"use strict";const e=e=>fetch(e).then((e=>e.json())),t=e=>{const t=document.querySelector(".row");t.textContent="",e&&e.forEach((e=>{let s=[];e.movies&&e.movies.map((e=>{s.push(`<p>${e}</p>`)}));const a=document.createElement("div");a.classList.add("block_heroes"),a.innerHTML=`<div class="card"><div class="card-header"><span>${e.name?e.name:"name uncnown"}</span> </div><img src= ${e.photo?e.photo:"photo uncnown"} class="card-img-top" alt=${e.photo?e.photo:"photo uncnown"}><li class="list-group-item"><span>Real name : </span>${e.realName?e.realName:"realName uncnown"}</li><ul class="list-group list-group-flush"><li class="list-group-item"><span>Species : </span>${e.species?e.species:"species uncnown"}</li><li class="list-group-item"><span>Citizenship : </span>${e.citizenship?e.citizenship:"citizenship available"}</li><li class="list-group-item"><span>Birthday : </span>${e.birthDay?e.birthDay:"birthDay uncnown"}</li><li class="list-group-item"><span>Gender : </span>${e.gender?e.gender:"gender uncnown"}</li><li class="list-group-item"><span>Death day : </span>${e.deathDay?e.deathDay:"deathDay uncnown"}</li><li class="list-group-item"><span>Status : </span>${e.status?e.status:"status uncnown"}</li></ul><div class="card-body movies"><h5 class="card-title">Movies:</h5><div class="card-text">${s.join("")?s.join(""):"movies uncnown"}</div></div></div>`,t.append(a)}))};document.querySelector(".block_movies").addEventListener("click",(s=>{let a=s.target.textContent;e("dbHeroes.json").then((e=>t(((e,t)=>{let s=[];return e.filter((e=>{for(let a in e.movies)e.movies[a]===t&&s.push(e)})),console.log(s),s})(e,a))))})),(()=>{const s=document.querySelector("[type=Search]");s.addEventListener("input",(e=>(e.target.value=e.target.value.replace(/\d+/g,""),e.target.value?(e.target.value=e.target.value[0].toUpperCase()+e.target.value.slice(1),e.target.value):e.target.value))),s.addEventListener("input",(s=>{const a=s.target.value.trim();e("dbHeroes.json").then((e=>t(((e,s)=>{let a=[];return e.forEach((e=>{e.name&&(e.name.includes(s)?(a.push(e),t(a)):t(a))})),a})(e,a))))}))})(),e("dbHeroes.json").then((e=>t(e)))})();